<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.2//EN">
<html>
  <head>
    <title>Preliminary Proposal for R6RS Arithmetic</title>
    <link href="/admin.css" rel="stylesheet">
    <link href="/list.css" rel="stylesheet">
    <link href="/favicon.png" rel="icon" sizes="192x192" type="image/png">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script type="text/x-mathjax-config">
     MathJax.Hub.Config({
       tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
     });
    </script>
    <script crossorigin="anonymous" integrity=
            "sha384-Ra6zh6uYMmH5ydwCqqMoykyf1T/+ZcnOQfFPhDrp2kI4OIxadnhsvvA2vv9A7xYv" src=
            "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"
            type="text/javascript"></script>
  </head>

  <body>
    <h1>SRFI 77: Preliminary Proposal for R6RS Arithmetic</h1>
    <p class="authors">by William D Clinger and Michael Sperber</p>
    <p class="status">status: <em>withdrawn</em> (2006/09/13)</p>

    <ul class="info">
      <li><a href="srfi-77.html">The SRFI Document</a></li>
      <li><a href="https://srfi-email.schemers.org/srfi-77/">Discussion Archive</a></li>
      <li><a href="https://github.com/scheme-requests-for-implementation/srfi-77">Git repo (on Github)</a></li>
      <li>
        <a href="mailto:srfi-77@srfi.schemers.org">srfi-77@<span class="antispam">nospam</span>srfi.schemers.org (subscribers only)</a></li>
      <li>
        <form method="POST" action="https://www.simplelists.com/subscribe.php">
          <div class="title">Subscribe to srfi-77 mailing list</div>
          <input name="email"
                 placeholder="email address"
                 tabindex="1"
                 type="email" >
          <input name="name"
                 placeholder="full name"
                 tabindex="2"
                 type="text" >
          <p>
            <input id="sub-digest"
                   name="digest"
                   tabindex="3"
                   type="checkbox"
                   value="digest" >
            <label for="sub-digest">daily digest?</label></p>
          <input class="submit"
                 name="submit"
                 tabindex="4"
                 type="submit"
                 value="Subscribe to srfi-77" >
          <input type="hidden" name="action" value="subscribe">
          <input type="hidden" name="list" value="srfi-77@srfi.schemers.org"></form></li>
      <li>
        <form method="POST" action="https://www.simplelists.com/subscribe.php">
          <p class="title">Unsubscribe from srfi-77 mailing list</p>
          <input name="email"
                 placeholder="email address"
                 tabindex="5"
                 type="email" >
          <input class="submit"
                 name="submit"
                 tabindex="6"
                 type="submit"
                 value="Unsubscribe from srfi-77" >
          <input name="action"
                 type="hidden"
                 value="unsubscribe" >
          <input name="list"
                 type="hidden"
                 value="srfi-77@srfi.schemers.org"></form></li></ul>
    <h2>Abstract</h2>      <p>Scheme's arithmetic system was designed to
      allow a wide variety of implementations. After many years of
      implementation experience, however, most implementations now fall into a
      small number of categories, and the benefits of continued experimentation
      no longer justify the confusion and portability problems that have
      resulted from giving implementations so much freedom in this area.
      Moreover, the R5RS generic arithmetic is difficult to implement as
      efficiently as purely fixnum or purely flonum arithmetic. (Fixnum
      arithmetic is typically limited-precision integer arithmetic implemented
      using one or more representations that may be especially efficient on the
      executing machine; flonum arithmetic is typically limited-precision
      floating-point arithmetic using one or more representations that may be
      especially efficient on the executing machine.)
      <p>This SRFI is an effort to extend and clarify
      the R5RS arithmetic to make it more portable, more comprehensive, and
      enable faster programs.
      <p>Furthermore, one of us (Sperber) has argued
      that Scheme's arithmetic requires radical overhaul. The other (Clinger)
      agrees that revisions are needed. Whether these revisions qualify as
      radical is best left to the judgement of individual readers.
      <p>This SRFI proposes to revise section 6.2
      ("Numbers") of R5RS by:
      <ul>
        <li>requiring a Scheme implementation to provide
        the full tower, including exact rationals of arbitrary precision, exact
        rectangular complex numbers with rational real and imaginary parts, and
        inexact real and complex arithmetic
        <li>defining fixnum arithmetic (parameterized by
        precision)
        <li>defining flonum arithmetic
        (inexactly)
        <li>defining new procedures for performing exact
        arithmetic
        <li>defining new procedures for performing
        inexact arithmetic
        <li>describing the external representation and
        semantics of 0.0, -0.0, infinities and NaNs for systems that implement
        inexact real arithmetic using IEEE binary floating point&lt;?
        <li>changing the specification of
        <code>eqv?</code> to behave more sensibly with inexact numbers
        <li>defining Scheme's real numbers to be the
        complex numbers whose imaginary part is an exact zero
        <li>adding an external representation for
        inexact numbers that expresses the precision of a binary floating point
        representation
        <li>defining procedures for some new operations,
        including integer division and remainder on real numbers, and bitwise
        operations,
        <li>restricting the domains of some R5RS
        procedures
        <li>clarifying the semantics of some R5RS
        procedures
        <li>possibly changing the semantics of some R5RS
        procedures
      </ul></body></html>