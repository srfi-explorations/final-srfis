<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.2//EN">
<html>
  <head>
    <title>Promises</title>
    <link href="/admin.css" rel="stylesheet">
    <link href="/list.css" rel="stylesheet">
    <link href="/favicon.png" rel="icon" sizes="192x192" type="image/png">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script type="text/x-mathjax-config">
     MathJax.Hub.Config({
       tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
     });
    </script>
    <script crossorigin="anonymous" integrity=
            "sha384-Ra6zh6uYMmH5ydwCqqMoykyf1T/+ZcnOQfFPhDrp2kI4OIxadnhsvvA2vv9A7xYv" src=
            "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"
            type="text/javascript"></script>
  </head>

  <body>
    <h1>SRFI 155: Promises</h1>
    <p class="authors">by Marc Nieper-Wi√ükirchen</p>
    <p class="status">status: <em>final</em> (2018/9/15)</p><span class="see-also">See also <a href="/srfi-45/">SRFI 45: Primitives for Expressing Iterative Lazy Algorithms</a>.</span>

    <ul class="info">
      <li><a href="srfi-155.html">The SRFI Document</a></li>
      <li><a href="https://srfi-email.schemers.org/srfi-155/">Discussion Archive</a></li>
      <li><a href="https://github.com/scheme-requests-for-implementation/srfi-155">Git repo (on Github)</a></li>
      <li>
        <a href="mailto:srfi-155@srfi.schemers.org">srfi-155@<span class="antispam">nospam</span>srfi.schemers.org (subscribers only)</a></li>
      <li>
        <form method="POST" action="https://www.simplelists.com/subscribe.php">
          <div class="title">Subscribe to srfi-155 mailing list</div>
          <input name="email"
                 placeholder="email address"
                 tabindex="1"
                 type="email" >
          <input name="name"
                 placeholder="full name"
                 tabindex="2"
                 type="text" >
          <p>
            <input id="sub-digest"
                   name="digest"
                   tabindex="3"
                   type="checkbox"
                   value="digest" >
            <label for="sub-digest">daily digest?</label></p>
          <input class="submit"
                 name="submit"
                 tabindex="4"
                 type="submit"
                 value="Subscribe to srfi-155" >
          <input type="hidden" name="action" value="subscribe">
          <input type="hidden" name="list" value="srfi-155@srfi.schemers.org"></form></li>
      <li>
        <form method="POST" action="https://www.simplelists.com/subscribe.php">
          <p class="title">Unsubscribe from srfi-155 mailing list</p>
          <input name="email"
                 placeholder="email address"
                 tabindex="5"
                 type="email" >
          <input class="submit"
                 name="submit"
                 tabindex="6"
                 type="submit"
                 value="Unsubscribe from srfi-155" >
          <input name="action"
                 type="hidden"
                 value="unsubscribe" >
          <input name="list"
                 type="hidden"
                 value="srfi-155@srfi.schemers.org"></form></li></ul>
    <h2>Abstract</h2>	<p>
	  Scheme, like ML, is a programming language with strict evaluation
	  while others, like Haskell, use lazy evaluation.  Scheme, however,
	  possesses the primitives <code>delay</code> and <code>force</code>
	  that make it possible to express lazy algorithms.

	<p>
	  Lazy evaluation does not go well in conjunction with imperative,
	  non-functional, side-effecting code.  It should, however, be
	  applicable in a purely functional setting.  This is the case for the
	  delayed evaluation model as described in the R7RS as long as no
	  dynamically bound variables, also known as parameter objects, are
	  present.  It is the purpose of this SRFI to rework the specification
	  in the R7RS so that lazy evaluation works with purely functional code
	  that makes use of dynamic environments or, more generally, the dynamic
	  extent.  This is done by remembering the dynamic extent in effect when
	  the <code>delay</code> expression is evaluated.

	<p>
	  Another perceived misfeature of the R7RS model of delayed evaluation
	  is the apparent need of the <code>delay-force</code> special form to
	  express iterative lazy algorithms.  It is shown that
	  the <code>delay-force</code> special form is unneeded and that the
	  implementation can (and should) handle iterative lazy algorithms
	  without space leaks.</body></html>